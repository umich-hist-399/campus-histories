---
layout: map
title: Map
---

<div class="container-fluid">
  <div class="row">
    <div class="col">

      <div id="mapid"></div>

      <div id="slider"></div>
      <p id="slider-label">
        <label for="year">Year:</label>
        <input type="text" id="year" readonly style="border:0; color:#f6931f; font-weight:bold;">
      </p>

    </div>

  </div>
</div>


<script>

  var map = L.map('mapid').setView([42.276987, -83.738113], 16);

  L.tileLayer('https://api.mapbox.com/styles/v1/fwgibbs/cizd8o5in008t2rnq4advsa25/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZndnaWJicyIsImEiOiJJaXJoT2JBIn0.nh7hFFVgOnPApRImOtXcCQ', {
    maxZoom: 20,
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
      '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
      'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    id: 'mapbox.streets'
  }).addTo(map);

  var outlines = new L.FeatureGroup();

</script>

<script src="{{site.baseurl}}/js/map.js"></script>
<script src="{{site.baseurl}}/js/togeojson.js"></script>


<script>
$( function() {
$( "#slider" ).slider({
  value:100,
  min: 1831,
  max: 2017,
  step: 1,
  slide: function( event, ui ) {
    $( "#year" ).val( ui.value );
    getMarkersByDateRange(ui.value, function(markers) {
        // clear away old markers
        outlines.clearLayers();
        // and add the markers for this year
        $.each(markers, loadMarker);
        //console.log(featureGroup);
        map.addLayer(outlines);
      });
  }
});
$( "#year" ).val( $( "#slider" ).slider( "value" ) );
} );
</script>
